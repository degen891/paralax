{"ast":null,"code":"var _jsxFileName = \"/home/np/paralax/src/VersionGraph.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport ReactFlow, { MiniMap, Controls } from \"react-flow-renderer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function VersionGraph({\n  edges,\n  onSelectDraft\n}) {\n  _s();\n  const {\n    nodes,\n    links\n  } = useMemo(() => {\n    const uniqueDrafts = new Set();\n    const nodeMap = {};\n    const reactNodes = [];\n    const reactEdges = [];\n    edges.forEach(({\n      from,\n      to\n    }, i) => {\n      if (!uniqueDrafts.has(to)) {\n        reactNodes.push({\n          id: to,\n          data: {\n            label: to\n          },\n          position: {\n            x: Math.random() * 500,\n            y: Math.random() * 500\n          }\n        });\n        uniqueDrafts.add(to);\n      }\n      if (from && !uniqueDrafts.has(from)) {\n        reactNodes.push({\n          id: from,\n          data: {\n            label: from\n          },\n          position: {\n            x: Math.random() * 500,\n            y: Math.random() * 500\n          }\n        });\n        uniqueDrafts.add(from);\n      }\n      if (from) {\n        reactEdges.push({\n          id: `e-${from}-${to}-${i}`,\n          source: from,\n          target: to\n        });\n      }\n    });\n    return {\n      nodes: reactNodes,\n      links: reactEdges\n    };\n  }, [edges]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: 400\n    },\n    className: \"border rounded p-2 bg-white\",\n    children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n      nodes: nodes,\n      edges: links,\n      fitView: true,\n      onNodeClick: (_, node) => onSelectDraft(node.id),\n      children: [/*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(VersionGraph, \"gZuqgooHmc5+geH/TVfTMz2WfLk=\");\n_c = VersionGraph;\nvar _c;\n$RefreshReg$(_c, \"VersionGraph\");","map":{"version":3,"names":["React","useMemo","ReactFlow","MiniMap","Controls","jsxDEV","_jsxDEV","VersionGraph","edges","onSelectDraft","_s","nodes","links","uniqueDrafts","Set","nodeMap","reactNodes","reactEdges","forEach","from","to","i","has","push","id","data","label","position","x","Math","random","y","add","source","target","style","height","className","children","fitView","onNodeClick","_","node","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/np/paralax/src/VersionGraph.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport ReactFlow, { MiniMap, Controls } from \"react-flow-renderer\";\n\nexport default function VersionGraph({ edges, onSelectDraft }) {\n  const { nodes, links } = useMemo(() => {\n    const uniqueDrafts = new Set();\n    const nodeMap = {};\n    const reactNodes = [];\n    const reactEdges = [];\n\n    edges.forEach(({ from, to }, i) => {\n      if (!uniqueDrafts.has(to)) {\n        reactNodes.push({\n          id: to,\n          data: { label: to },\n          position: { x: Math.random() * 500, y: Math.random() * 500 },\n        });\n        uniqueDrafts.add(to);\n      }\n      if (from && !uniqueDrafts.has(from)) {\n        reactNodes.push({\n          id: from,\n          data: { label: from },\n          position: { x: Math.random() * 500, y: Math.random() * 500 },\n        });\n        uniqueDrafts.add(from);\n      }\n      if (from) {\n        reactEdges.push({\n          id: `e-${from}-${to}-${i}`,\n          source: from,\n          target: to,\n        });\n      }\n    });\n\n    return { nodes: reactNodes, links: reactEdges };\n  }, [edges]);\n\n  return (\n    <div style={{ height: 400 }} className=\"border rounded p-2 bg-white\">\n      <ReactFlow\n        nodes={nodes}\n        edges={links}\n        fitView\n        onNodeClick={(_, node) => onSelectDraft(node.id)}\n      >\n        <MiniMap />\n        <Controls />\n      </ReactFlow>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}