{"ast":null,"code":"var _jsxFileName = \"/home/np/paralax/src/EditPermutationUI.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport VersionGraph from \"./VersionGraph\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EditPermutationUI() {\n  _s();\n  // 1️⃣ Allow user to type in any initial draft\n  const [defaultDraft, setDefaultDraft] = useState(\"\");\n  const [drafts, setDrafts] = useState([]);\n  const [selectedDraft, setSelectedDraft] = useState(\"\");\n  // (existing state)\n  const [editText, setEditText] = useState(\"\");\n  const [editType, setEditType] = useState(\"add\");\n  const [conditionParts, setConditionParts] = useState([]);\n  const [highlighted, setHighlighted] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [redoStack, setRedoStack] = useState([]);\n  const [graphEdges, setGraphEdges] = useState([]);\n  const draftBoxRef = useRef();\n\n  // Ctrl+Z / Ctrl+Y handlers\n  useEffect(() => {\n    const handleKey = e => {\n      if (e.ctrlKey && e.key === \"z\") undo();\n      if (e.ctrlKey && e.key === \"y\") redo();\n    };\n    window.addEventListener(\"keydown\", handleKey);\n    return () => window.removeEventListener(\"keydown\", handleKey);\n  }, [history, redoStack]);\n\n  // History management\n  function saveHistory(newDrafts, newEdges) {\n    setHistory(h => [...h, drafts]);\n    setRedoStack([]);\n    setDrafts(newDrafts);\n    setGraphEdges(g => [...g, ...newEdges]);\n  }\n  function undo() {\n    if (!history.length) return;\n    const prev = history[history.length - 1];\n    setRedoStack(r => [drafts, ...r]);\n    setHistory(h => h.slice(0, -1));\n    setDrafts(prev);\n  }\n  function redo() {\n    if (!redoStack.length) return;\n    const next = redoStack[0];\n    setHistory(h => [...h, drafts]);\n    setRedoStack(r => r.slice(1));\n    setDrafts(next);\n  }\n\n  // Initialize with user’s defaultDraft\n  function initializeDraft() {\n    if (!defaultDraft.trim()) return;\n    setDrafts([defaultDraft]);\n    setSelectedDraft(defaultDraft);\n    setGraphEdges([{\n      from: null,\n      to: defaultDraft\n    }]);\n    setHistory([]);\n    setRedoStack([]);\n  }\n\n  // Core edit-permutation logic\n  function applyEdit() {\n    const newDrafts = new Set(drafts);\n    const edges = [];\n    drafts.forEach(d => {\n      const ok = !conditionParts.length || conditionParts.every(p => d.includes(p));\n      if (!ok) return;\n      let result = editType === \"add\" ? d + editText : d.replace(editText, \"\");\n      if (editType === \"remove\" && !d.includes(editText)) return;\n      if (!newDrafts.has(result)) {\n        newDrafts.add(result);\n        edges.push({\n          from: d,\n          to: result\n        });\n      }\n    });\n    saveHistory([...newDrafts], edges);\n    setEditText(\"\");\n    setConditionParts([]);\n    setHighlighted([]);\n  }\n\n  // Text selection for conditions (Ctrl+drag)\n  function handleSelect() {\n    const sel = window.getSelection();\n    if (!sel || !sel.toString()) return;\n    const txt = sel.toString();\n    setConditionParts(prev => window.event.ctrlKey || window.event.metaKey ? [...prev, txt] : [txt]);\n    setHighlighted(prev => window.event.ctrlKey || window.event.metaKey ? [...prev, txt] : [txt]);\n    sel.removeAllRanges();\n  }\n\n  // Highlight marked fragments\n  function renderWithHighlights(text) {\n    if (!highlighted.length) return text;\n    let segments = [text];\n    highlighted.forEach(frag => {\n      segments = segments.flatMap(seg => typeof seg === \"string\" && seg.includes(frag) ? seg.split(frag).flatMap((part, i, arr) => i < arr.length - 1 ? [part, /*#__PURE__*/_jsxDEV(\"mark\", {\n        children: frag\n      }, `${frag}-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 26\n      }, this)] : [part]) : [seg]);\n    });\n    return segments;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 space-y-6 text-gray-800\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold\",\n      children: \"Edit Permutation UI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block font-medium\",\n        children: \"Initial Draft:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border p-2 flex-1\",\n          value: defaultDraft,\n          onChange: e => setDefaultDraft(e.target.value),\n          placeholder: \"Type starting text\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-green-600 text-white px-4 py-2 rounded\",\n          onClick: initializeDraft,\n          children: \"Set\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), drafts.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-semibold\",\n          children: \"All Drafts:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"flex flex-wrap gap-2\",\n          children: drafts.map((d, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              setSelectedDraft(d);\n              setHighlighted([]);\n              setConditionParts([]);\n            },\n            className: `px-2 py-1 rounded cursor-pointer ${d === selectedDraft ? \"bg-blue-200\" : \"bg-gray-100\"}`,\n            children: d\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-semibold\",\n          children: \"Selected Draft:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: draftBoxRef,\n          onMouseUp: handleSelect,\n          className: \"p-2 border rounded bg-white whitespace-pre-wrap min-h-[60px] cursor-text\",\n          children: renderWithHighlights(selectedDraft)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border p-2 rounded\",\n          value: editType,\n          onChange: e => setEditType(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"add\",\n            children: \"Add Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"remove\",\n            children: \"Remove Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border p-2 rounded w-full\",\n          placeholder: editType === \"add\" ? \"Text to add\" : \"Text to remove\",\n          value: editText,\n          onChange: e => setEditText(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"Conditions: \", conditionParts.length ? conditionParts.join(\", \") : \"(none)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-blue-600 text-white px-4 py-2 rounded\",\n          onClick: applyEdit,\n          disabled: !editText,\n          children: \"Submit Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ml-2 px-4 py-2 bg-gray-200 rounded\",\n          onClick: undo,\n          children: \"Undo (Ctrl+Z)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ml-2 px-4 py-2 bg-gray-200 rounded\",\n          onClick: redo,\n          children: \"Redo (Ctrl+Y)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"font-semibold mt-6\",\n          children: \"Version Graph:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(VersionGraph, {\n          edges: graphEdges,\n          onSelectDraft: setSelectedDraft\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n_s(EditPermutationUI, \"BNLf4x5fl6SH3n5PgJD/WYUAsiE=\");\n_c = EditPermutationUI;\nvar _c;\n$RefreshReg$(_c, \"EditPermutationUI\");","map":{"version":3,"names":["React","useState","useEffect","useRef","VersionGraph","jsxDEV","_jsxDEV","Fragment","_Fragment","EditPermutationUI","_s","defaultDraft","setDefaultDraft","drafts","setDrafts","selectedDraft","setSelectedDraft","editText","setEditText","editType","setEditType","conditionParts","setConditionParts","highlighted","setHighlighted","history","setHistory","redoStack","setRedoStack","graphEdges","setGraphEdges","draftBoxRef","handleKey","e","ctrlKey","key","undo","redo","window","addEventListener","removeEventListener","saveHistory","newDrafts","newEdges","h","g","length","prev","r","slice","next","initializeDraft","trim","from","to","applyEdit","Set","edges","forEach","d","ok","every","p","includes","result","replace","has","add","push","handleSelect","sel","getSelection","toString","txt","event","metaKey","removeAllRanges","renderWithHighlights","text","segments","frag","flatMap","seg","split","part","i","arr","children","fileName","_jsxFileName","lineNumber","columnNumber","className","value","onChange","target","placeholder","onClick","map","ref","onMouseUp","join","disabled","onSelectDraft","_c","$RefreshReg$"],"sources":["/home/np/paralax/src/EditPermutationUI.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport VersionGraph from \"./VersionGraph\";\n\nexport default function EditPermutationUI() {\n  // 1️⃣ Allow user to type in any initial draft\n  const [defaultDraft, setDefaultDraft] = useState(\"\");\n  const [drafts, setDrafts] = useState([]);\n  const [selectedDraft, setSelectedDraft] = useState(\"\");\n  // (existing state)\n  const [editText, setEditText] = useState(\"\");\n  const [editType, setEditType] = useState(\"add\");\n  const [conditionParts, setConditionParts] = useState([]);\n  const [highlighted, setHighlighted] = useState([]);\n  const [history, setHistory] = useState([]);\n  const [redoStack, setRedoStack] = useState([]);\n  const [graphEdges, setGraphEdges] = useState([]);\n  const draftBoxRef = useRef();\n\n  // Ctrl+Z / Ctrl+Y handlers\n  useEffect(() => {\n    const handleKey = (e) => {\n      if (e.ctrlKey && e.key === \"z\") undo();\n      if (e.ctrlKey && e.key === \"y\") redo();\n    };\n    window.addEventListener(\"keydown\", handleKey);\n    return () => window.removeEventListener(\"keydown\", handleKey);\n  }, [history, redoStack]);\n\n  // History management\n  function saveHistory(newDrafts, newEdges) {\n    setHistory((h) => [...h, drafts]);\n    setRedoStack([]);\n    setDrafts(newDrafts);\n    setGraphEdges((g) => [...g, ...newEdges]);\n  }\n  function undo() {\n    if (!history.length) return;\n    const prev = history[history.length - 1];\n    setRedoStack((r) => [drafts, ...r]);\n    setHistory((h) => h.slice(0, -1));\n    setDrafts(prev);\n  }\n  function redo() {\n    if (!redoStack.length) return;\n    const next = redoStack[0];\n    setHistory((h) => [...h, drafts]);\n    setRedoStack((r) => r.slice(1));\n    setDrafts(next);\n  }\n\n  // Initialize with user’s defaultDraft\n  function initializeDraft() {\n    if (!defaultDraft.trim()) return;\n    setDrafts([defaultDraft]);\n    setSelectedDraft(defaultDraft);\n    setGraphEdges([{ from: null, to: defaultDraft }]);\n    setHistory([]);\n    setRedoStack([]);\n  }\n\n  // Core edit-permutation logic\n  function applyEdit() {\n    const newDrafts = new Set(drafts);\n    const edges = [];\n    drafts.forEach((d) => {\n      const ok =\n        !conditionParts.length ||\n        conditionParts.every((p) => d.includes(p));\n      if (!ok) return;\n      let result = editType === \"add\" ? d + editText : d.replace(editText, \"\");\n      if (editType === \"remove\" && !d.includes(editText)) return;\n      if (!newDrafts.has(result)) {\n        newDrafts.add(result);\n        edges.push({ from: d, to: result });\n      }\n    });\n    saveHistory([...newDrafts], edges);\n    setEditText(\"\");\n    setConditionParts([]);\n    setHighlighted([]);\n  }\n\n  // Text selection for conditions (Ctrl+drag)\n  function handleSelect() {\n    const sel = window.getSelection();\n    if (!sel || !sel.toString()) return;\n    const txt = sel.toString();\n    setConditionParts((prev) =>\n      (window.event.ctrlKey || window.event.metaKey)\n        ? [...prev, txt]\n        : [txt]\n    );\n    setHighlighted((prev) =>\n      (window.event.ctrlKey || window.event.metaKey)\n        ? [...prev, txt]\n        : [txt]\n    );\n    sel.removeAllRanges();\n  }\n\n  // Highlight marked fragments\n  function renderWithHighlights(text) {\n    if (!highlighted.length) return text;\n    let segments = [text];\n    highlighted.forEach((frag) => {\n      segments = segments.flatMap((seg) =>\n        typeof seg === \"string\" && seg.includes(frag)\n          ? seg.split(frag).flatMap((part, i, arr) =>\n              i < arr.length - 1\n                ? [part, <mark key={`${frag}-${i}`}>{frag}</mark>]\n                : [part]\n            )\n          : [seg]\n      );\n    });\n    return segments;\n  }\n\n  return (\n    <div className=\"p-4 space-y-6 text-gray-800\">\n      <h1 className=\"text-2xl font-bold\">Edit Permutation UI</h1>\n\n      {/* STEP 1: Let user set initial draft */}\n      <div className=\"space-y-2\">\n        <label className=\"block font-medium\">Initial Draft:</label>\n        <div className=\"flex gap-2\">\n          <input\n            className=\"border p-2 flex-1\"\n            value={defaultDraft}\n            onChange={(e) => setDefaultDraft(e.target.value)}\n            placeholder=\"Type starting text…\"\n          />\n          <button\n            className=\"bg-green-600 text-white px-4 py-2 rounded\"\n            onClick={initializeDraft}\n          >\n            Set\n          </button>\n        </div>\n      </div>\n\n      {/* Only show the rest once a draft is initialized */}\n      {drafts.length > 0 && (\n        <>\n          {/* Draft list */}\n          <div>\n            <h2 className=\"font-semibold\">All Drafts:</h2>\n            <ul className=\"flex flex-wrap gap-2\">\n              {drafts.map((d, i) => (\n                <li\n                  key={i}\n                  onClick={() => {\n                    setSelectedDraft(d);\n                    setHighlighted([]);\n                    setConditionParts([]);\n                  }}\n                  className={`px-2 py-1 rounded cursor-pointer ${\n                    d === selectedDraft ? \"bg-blue-200\" : \"bg-gray-100\"\n                  }`}\n                >\n                  {d}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Edit panel */}\n          <div>\n            <h2 className=\"font-semibold\">Selected Draft:</h2>\n            <div\n              ref={draftBoxRef}\n              onMouseUp={handleSelect}\n              className=\"p-2 border rounded bg-white whitespace-pre-wrap min-h-[60px] cursor-text\"\n            >\n              {renderWithHighlights(selectedDraft)}\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <select\n              className=\"border p-2 rounded\"\n              value={editType}\n              onChange={(e) => setEditType(e.target.value)}\n            >\n              <option value=\"add\">Add Text</option>\n              <option value=\"remove\">Remove Text</option>\n            </select>\n            <input\n              className=\"border p-2 rounded w-full\"\n              placeholder={editType === \"add\" ? \"Text to add\" : \"Text to remove\"}\n              value={editText}\n              onChange={(e) => setEditText(e.target.value)}\n            />\n            <div className=\"text-sm text-gray-600\">\n              Conditions: {conditionParts.length ? conditionParts.join(\", \") : \"(none)\"}\n            </div>\n            <button\n              className=\"bg-blue-600 text-white px-4 py-2 rounded\"\n              onClick={applyEdit}\n              disabled={!editText}\n            >\n              Submit Edit\n            </button>\n            <button className=\"ml-2 px-4 py-2 bg-gray-200 rounded\" onClick={undo}>\n              Undo (Ctrl+Z)\n            </button>\n            <button className=\"ml-2 px-4 py-2 bg-gray-200 rounded\" onClick={redo}>\n              Redo (Ctrl+Y)\n            </button>\n          </div>\n\n          {/* Visual version graph */}\n          <div>\n            <h2 className=\"font-semibold mt-6\">Version Graph:</h2>\n            <VersionGraph edges={graphEdges} onSelectDraft={setSelectedDraft} />\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,YAAY,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1C,eAAe,SAASC,iBAAiBA,CAAA,EAAG;EAAAC,EAAA;EAC1C;EACA,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACc,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACtD;EACA,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACoB,cAAc,EAAEC,iBAAiB,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACsB,WAAW,EAAEC,cAAc,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC0B,SAAS,EAAEC,YAAY,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC4B,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM8B,WAAW,GAAG5B,MAAM,CAAC,CAAC;;EAE5B;EACAD,SAAS,CAAC,MAAM;IACd,MAAM8B,SAAS,GAAIC,CAAC,IAAK;MACvB,IAAIA,CAAC,CAACC,OAAO,IAAID,CAAC,CAACE,GAAG,KAAK,GAAG,EAAEC,IAAI,CAAC,CAAC;MACtC,IAAIH,CAAC,CAACC,OAAO,IAAID,CAAC,CAACE,GAAG,KAAK,GAAG,EAAEE,IAAI,CAAC,CAAC;IACxC,CAAC;IACDC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEP,SAAS,CAAC;IAC7C,OAAO,MAAMM,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAER,SAAS,CAAC;EAC/D,CAAC,EAAE,CAACP,OAAO,EAAEE,SAAS,CAAC,CAAC;;EAExB;EACA,SAASc,WAAWA,CAACC,SAAS,EAAEC,QAAQ,EAAE;IACxCjB,UAAU,CAAEkB,CAAC,IAAK,CAAC,GAAGA,CAAC,EAAE/B,MAAM,CAAC,CAAC;IACjCe,YAAY,CAAC,EAAE,CAAC;IAChBd,SAAS,CAAC4B,SAAS,CAAC;IACpBZ,aAAa,CAAEe,CAAC,IAAK,CAAC,GAAGA,CAAC,EAAE,GAAGF,QAAQ,CAAC,CAAC;EAC3C;EACA,SAASP,IAAIA,CAAA,EAAG;IACd,IAAI,CAACX,OAAO,CAACqB,MAAM,EAAE;IACrB,MAAMC,IAAI,GAAGtB,OAAO,CAACA,OAAO,CAACqB,MAAM,GAAG,CAAC,CAAC;IACxClB,YAAY,CAAEoB,CAAC,IAAK,CAACnC,MAAM,EAAE,GAAGmC,CAAC,CAAC,CAAC;IACnCtB,UAAU,CAAEkB,CAAC,IAAKA,CAAC,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjCnC,SAAS,CAACiC,IAAI,CAAC;EACjB;EACA,SAASV,IAAIA,CAAA,EAAG;IACd,IAAI,CAACV,SAAS,CAACmB,MAAM,EAAE;IACvB,MAAMI,IAAI,GAAGvB,SAAS,CAAC,CAAC,CAAC;IACzBD,UAAU,CAAEkB,CAAC,IAAK,CAAC,GAAGA,CAAC,EAAE/B,MAAM,CAAC,CAAC;IACjCe,YAAY,CAAEoB,CAAC,IAAKA,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC/BnC,SAAS,CAACoC,IAAI,CAAC;EACjB;;EAEA;EACA,SAASC,eAAeA,CAAA,EAAG;IACzB,IAAI,CAACxC,YAAY,CAACyC,IAAI,CAAC,CAAC,EAAE;IAC1BtC,SAAS,CAAC,CAACH,YAAY,CAAC,CAAC;IACzBK,gBAAgB,CAACL,YAAY,CAAC;IAC9BmB,aAAa,CAAC,CAAC;MAAEuB,IAAI,EAAE,IAAI;MAAEC,EAAE,EAAE3C;IAAa,CAAC,CAAC,CAAC;IACjDe,UAAU,CAAC,EAAE,CAAC;IACdE,YAAY,CAAC,EAAE,CAAC;EAClB;;EAEA;EACA,SAAS2B,SAASA,CAAA,EAAG;IACnB,MAAMb,SAAS,GAAG,IAAIc,GAAG,CAAC3C,MAAM,CAAC;IACjC,MAAM4C,KAAK,GAAG,EAAE;IAChB5C,MAAM,CAAC6C,OAAO,CAAEC,CAAC,IAAK;MACpB,MAAMC,EAAE,GACN,CAACvC,cAAc,CAACyB,MAAM,IACtBzB,cAAc,CAACwC,KAAK,CAAEC,CAAC,IAAKH,CAAC,CAACI,QAAQ,CAACD,CAAC,CAAC,CAAC;MAC5C,IAAI,CAACF,EAAE,EAAE;MACT,IAAII,MAAM,GAAG7C,QAAQ,KAAK,KAAK,GAAGwC,CAAC,GAAG1C,QAAQ,GAAG0C,CAAC,CAACM,OAAO,CAAChD,QAAQ,EAAE,EAAE,CAAC;MACxE,IAAIE,QAAQ,KAAK,QAAQ,IAAI,CAACwC,CAAC,CAACI,QAAQ,CAAC9C,QAAQ,CAAC,EAAE;MACpD,IAAI,CAACyB,SAAS,CAACwB,GAAG,CAACF,MAAM,CAAC,EAAE;QAC1BtB,SAAS,CAACyB,GAAG,CAACH,MAAM,CAAC;QACrBP,KAAK,CAACW,IAAI,CAAC;UAAEf,IAAI,EAAEM,CAAC;UAAEL,EAAE,EAAEU;QAAO,CAAC,CAAC;MACrC;IACF,CAAC,CAAC;IACFvB,WAAW,CAAC,CAAC,GAAGC,SAAS,CAAC,EAAEe,KAAK,CAAC;IAClCvC,WAAW,CAAC,EAAE,CAAC;IACfI,iBAAiB,CAAC,EAAE,CAAC;IACrBE,cAAc,CAAC,EAAE,CAAC;EACpB;;EAEA;EACA,SAAS6C,YAAYA,CAAA,EAAG;IACtB,MAAMC,GAAG,GAAGhC,MAAM,CAACiC,YAAY,CAAC,CAAC;IACjC,IAAI,CAACD,GAAG,IAAI,CAACA,GAAG,CAACE,QAAQ,CAAC,CAAC,EAAE;IAC7B,MAAMC,GAAG,GAAGH,GAAG,CAACE,QAAQ,CAAC,CAAC;IAC1BlD,iBAAiB,CAAEyB,IAAI,IACpBT,MAAM,CAACoC,KAAK,CAACxC,OAAO,IAAII,MAAM,CAACoC,KAAK,CAACC,OAAO,GACzC,CAAC,GAAG5B,IAAI,EAAE0B,GAAG,CAAC,GACd,CAACA,GAAG,CACV,CAAC;IACDjD,cAAc,CAAEuB,IAAI,IACjBT,MAAM,CAACoC,KAAK,CAACxC,OAAO,IAAII,MAAM,CAACoC,KAAK,CAACC,OAAO,GACzC,CAAC,GAAG5B,IAAI,EAAE0B,GAAG,CAAC,GACd,CAACA,GAAG,CACV,CAAC;IACDH,GAAG,CAACM,eAAe,CAAC,CAAC;EACvB;;EAEA;EACA,SAASC,oBAAoBA,CAACC,IAAI,EAAE;IAClC,IAAI,CAACvD,WAAW,CAACuB,MAAM,EAAE,OAAOgC,IAAI;IACpC,IAAIC,QAAQ,GAAG,CAACD,IAAI,CAAC;IACrBvD,WAAW,CAACmC,OAAO,CAAEsB,IAAI,IAAK;MAC5BD,QAAQ,GAAGA,QAAQ,CAACE,OAAO,CAAEC,GAAG,IAC9B,OAAOA,GAAG,KAAK,QAAQ,IAAIA,GAAG,CAACnB,QAAQ,CAACiB,IAAI,CAAC,GACzCE,GAAG,CAACC,KAAK,CAACH,IAAI,CAAC,CAACC,OAAO,CAAC,CAACG,IAAI,EAAEC,CAAC,EAAEC,GAAG,KACnCD,CAAC,GAAGC,GAAG,CAACxC,MAAM,GAAG,CAAC,GACd,CAACsC,IAAI,eAAE9E,OAAA;QAAAiF,QAAA,EAA4BP;MAAI,GAArB,GAAGA,IAAI,IAAIK,CAAC,EAAE;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CAAC,CAAC,GAChD,CAACP,IAAI,CACX,CAAC,GACD,CAACF,GAAG,CACV,CAAC;IACH,CAAC,CAAC;IACF,OAAOH,QAAQ;EACjB;EAEA,oBACEzE,OAAA;IAAKsF,SAAS,EAAC,6BAA6B;IAAAL,QAAA,gBAC1CjF,OAAA;MAAIsF,SAAS,EAAC,oBAAoB;MAAAL,QAAA,EAAC;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAG3DrF,OAAA;MAAKsF,SAAS,EAAC,WAAW;MAAAL,QAAA,gBACxBjF,OAAA;QAAOsF,SAAS,EAAC,mBAAmB;QAAAL,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC3DrF,OAAA;QAAKsF,SAAS,EAAC,YAAY;QAAAL,QAAA,gBACzBjF,OAAA;UACEsF,SAAS,EAAC,mBAAmB;UAC7BC,KAAK,EAAElF,YAAa;UACpBmF,QAAQ,EAAG7D,CAAC,IAAKrB,eAAe,CAACqB,CAAC,CAAC8D,MAAM,CAACF,KAAK,CAAE;UACjDG,WAAW,EAAC;QAAqB;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC,eACFrF,OAAA;UACEsF,SAAS,EAAC,2CAA2C;UACrDK,OAAO,EAAE9C,eAAgB;UAAAoC,QAAA,EAC1B;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL9E,MAAM,CAACiC,MAAM,GAAG,CAAC,iBAChBxC,OAAA,CAAAE,SAAA;MAAA+E,QAAA,gBAEEjF,OAAA;QAAAiF,QAAA,gBACEjF,OAAA;UAAIsF,SAAS,EAAC,eAAe;UAAAL,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9CrF,OAAA;UAAIsF,SAAS,EAAC,sBAAsB;UAAAL,QAAA,EACjC1E,MAAM,CAACqF,GAAG,CAAC,CAACvC,CAAC,EAAE0B,CAAC,kBACf/E,OAAA;YAEE2F,OAAO,EAAEA,CAAA,KAAM;cACbjF,gBAAgB,CAAC2C,CAAC,CAAC;cACnBnC,cAAc,CAAC,EAAE,CAAC;cAClBF,iBAAiB,CAAC,EAAE,CAAC;YACvB,CAAE;YACFsE,SAAS,EAAE,oCACTjC,CAAC,KAAK5C,aAAa,GAAG,aAAa,GAAG,aAAa,EAClD;YAAAwE,QAAA,EAEF5B;UAAC,GAVG0B,CAAC;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWJ,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAGNrF,OAAA;QAAAiF,QAAA,gBACEjF,OAAA;UAAIsF,SAAS,EAAC,eAAe;UAAAL,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAClDrF,OAAA;UACE6F,GAAG,EAAEpE,WAAY;UACjBqE,SAAS,EAAE/B,YAAa;UACxBuB,SAAS,EAAC,0EAA0E;UAAAL,QAAA,EAEnFV,oBAAoB,CAAC9D,aAAa;QAAC;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNrF,OAAA;QAAKsF,SAAS,EAAC,WAAW;QAAAL,QAAA,gBACxBjF,OAAA;UACEsF,SAAS,EAAC,oBAAoB;UAC9BC,KAAK,EAAE1E,QAAS;UAChB2E,QAAQ,EAAG7D,CAAC,IAAKb,WAAW,CAACa,CAAC,CAAC8D,MAAM,CAACF,KAAK,CAAE;UAAAN,QAAA,gBAE7CjF,OAAA;YAAQuF,KAAK,EAAC,KAAK;YAAAN,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACrCrF,OAAA;YAAQuF,KAAK,EAAC,QAAQ;YAAAN,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,eACTrF,OAAA;UACEsF,SAAS,EAAC,2BAA2B;UACrCI,WAAW,EAAE7E,QAAQ,KAAK,KAAK,GAAG,aAAa,GAAG,gBAAiB;UACnE0E,KAAK,EAAE5E,QAAS;UAChB6E,QAAQ,EAAG7D,CAAC,IAAKf,WAAW,CAACe,CAAC,CAAC8D,MAAM,CAACF,KAAK;QAAE;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,eACFrF,OAAA;UAAKsF,SAAS,EAAC,uBAAuB;UAAAL,QAAA,GAAC,cACzB,EAAClE,cAAc,CAACyB,MAAM,GAAGzB,cAAc,CAACgF,IAAI,CAAC,IAAI,CAAC,GAAG,QAAQ;QAAA;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE,CAAC,eACNrF,OAAA;UACEsF,SAAS,EAAC,0CAA0C;UACpDK,OAAO,EAAE1C,SAAU;UACnB+C,QAAQ,EAAE,CAACrF,QAAS;UAAAsE,QAAA,EACrB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTrF,OAAA;UAAQsF,SAAS,EAAC,oCAAoC;UAACK,OAAO,EAAE7D,IAAK;UAAAmD,QAAA,EAAC;QAEtE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTrF,OAAA;UAAQsF,SAAS,EAAC,oCAAoC;UAACK,OAAO,EAAE5D,IAAK;UAAAkD,QAAA,EAAC;QAEtE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGNrF,OAAA;QAAAiF,QAAA,gBACEjF,OAAA;UAAIsF,SAAS,EAAC,oBAAoB;UAAAL,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtDrF,OAAA,CAACF,YAAY;UAACqD,KAAK,EAAE5B,UAAW;UAAC0E,aAAa,EAAEvF;QAAiB;UAAAwE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjE,CAAC;IAAA,eACN,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACjF,EAAA,CAxNuBD,iBAAiB;AAAA+F,EAAA,GAAjB/F,iBAAiB;AAAA,IAAA+F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}